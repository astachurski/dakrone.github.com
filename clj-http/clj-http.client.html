<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-http.client documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj-http 0.7.1-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="clj-http.client.html"><span>clj-http.client</span></a></li><li><a href="clj-http.conn-mgr.html"><span>clj-http.conn-mgr</span></a></li><li><a href="clj-http.cookies.html"><span>clj-http.cookies</span></a></li><li><a href="clj-http.core.html"><span>clj-http.core</span></a></li><li><a href="clj-http.links.html"><span>clj-http.links</span></a></li><li><a href="clj-http.multipart.html"><span>clj-http.multipart</span></a></li><li><a href="clj-http.util.html"><span>clj-http.util</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="clj-http.client.html#var-copy"><span>copy</span></a></li><li><a href="clj-http.client.html#var-delete"><span>delete</span></a></li><li><a href="clj-http.client.html#var-get"><span>get</span></a></li><li><a href="clj-http.client.html#var-get-headers-from-body"><span>get-headers-from-body</span></a></li><li><a href="clj-http.client.html#var-head"><span>head</span></a></li><li><a href="clj-http.client.html#var-json-decode"><span>json-decode</span></a></li><li><a href="clj-http.client.html#var-json-encode"><span>json-encode</span></a></li><li><a href="clj-http.client.html#var-maybe-wrap-entity"><span>maybe-wrap-entity</span></a></li><li><a href="clj-http.client.html#var-move"><span>move</span></a></li><li><a href="clj-http.client.html#var-options"><span>options</span></a></li><li><a href="clj-http.client.html#var-parse-edn"><span>parse-edn</span></a></li><li><a href="clj-http.client.html#var-parse-html"><span>parse-html</span></a></li><li><a href="clj-http.client.html#var-parse-url"><span>parse-url</span></a></li><li><a href="clj-http.client.html#var-patch"><span>patch</span></a></li><li><a href="clj-http.client.html#var-post"><span>post</span></a></li><li><a href="clj-http.client.html#var-put"><span>put</span></a></li><li><a href="clj-http.client.html#var-request"><span>request</span></a></li><li><a href="clj-http.client.html#var-with-connection-pool"><span>with-connection-pool</span></a></li><li><a href="clj-http.client.html#var-with-middleware"><span>with-middleware</span></a></li><li><a href="clj-http.client.html#var-wrap-accept"><span>wrap-accept</span></a></li><li><a href="clj-http.client.html#var-wrap-accept-encoding"><span>wrap-accept-encoding</span></a></li><li><a href="clj-http.client.html#var-wrap-additional-header-parsing"><span>wrap-additional-header-parsing</span></a></li><li><a href="clj-http.client.html#var-wrap-basic-auth"><span>wrap-basic-auth</span></a></li><li><a href="clj-http.client.html#var-wrap-content-type"><span>wrap-content-type</span></a></li><li><a href="clj-http.client.html#var-wrap-decompression"><span>wrap-decompression</span></a></li><li><a href="clj-http.client.html#var-wrap-exceptions"><span>wrap-exceptions</span></a></li><li><a href="clj-http.client.html#var-wrap-form-params"><span>wrap-form-params</span></a></li><li><a href="clj-http.client.html#var-wrap-input-coercion"><span>wrap-input-coercion</span></a></li><li><a href="clj-http.client.html#var-wrap-lower-case-headers"><span>wrap-lower-case-headers</span></a></li><li><a href="clj-http.client.html#var-wrap-method"><span>wrap-method</span></a></li><li><a href="clj-http.client.html#var-wrap-nested-params"><span>wrap-nested-params</span></a></li><li><a href="clj-http.client.html#var-wrap-oauth"><span>wrap-oauth</span></a></li><li><a href="clj-http.client.html#var-wrap-output-coercion"><span>wrap-output-coercion</span></a></li><li><a href="clj-http.client.html#var-wrap-query-params"><span>wrap-query-params</span></a></li><li><a href="clj-http.client.html#var-wrap-redirects"><span>wrap-redirects</span></a></li><li><a href="clj-http.client.html#var-wrap-request"><span>wrap-request</span></a></li><li><a href="clj-http.client.html#var-wrap-request-timing"><span>wrap-request-timing</span></a></li><li><a href="clj-http.client.html#var-wrap-unknown-host"><span>wrap-unknown-host</span></a></li><li><a href="clj-http.client.html#var-wrap-url"><span>wrap-url</span></a></li><li><a href="clj-http.client.html#var-wrap-user-info"><span>wrap-user-info</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>clj-http.client documentation</h2><pre class="doc">Batteries-included HTTP client.
</pre><div class="public" id="var-copy"><h3>copy</h3><div class="usage"><code>(copy url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-delete"><h3>delete</h3><div class="usage"><code>(delete url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-get"><h3>get</h3><div class="usage"><code>(get url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-get-headers-from-body"><h3>get-headers-from-body</h3><div class="usage"><code>(get-headers-from-body body-map)</code></div><pre class="doc">Given a map of body content, return a map of header-name to header-value.
</pre></div><div class="public" id="var-head"><h3>head</h3><div class="usage"><code>(head url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-json-decode"><h3>json-decode</h3><div class="usage"><code>(json-decode &amp; args)</code></div><pre class="doc">Resolve and apply cheshire's json decoding dynamically.
</pre></div><div class="public" id="var-json-encode"><h3>json-encode</h3><div class="usage"><code>(json-encode &amp; args)</code></div><pre class="doc">Resolve and apply cheshire's json encoding dynamically.
</pre></div><div class="public" id="var-maybe-wrap-entity"><h3>maybe-wrap-entity</h3><div class="usage"><code>(maybe-wrap-entity {:keys [entity-buffering]} entity)</code></div><pre class="doc">Wrap an HttpEntity in a BufferedHttpEntity if warranted.
</pre></div><div class="public" id="var-move"><h3>move</h3><div class="usage"><code>(move url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-options"><h3>options</h3><div class="usage"><code>(options url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-parse-edn"><h3>parse-edn</h3><div class="usage"><code>(parse-edn &amp; args)</code></div><pre class="doc">Resolve and apply tool.reader's EDN parsing.
</pre></div><div class="public" id="var-parse-html"><h3>parse-html</h3><div class="usage"><code>(parse-html &amp; args)</code></div><pre class="doc">Resolve and apply crouton's HTML parsing.
</pre></div><div class="public" id="var-parse-url"><h3>parse-url</h3><div class="usage"><code>(parse-url url)</code></div><pre class="doc">Parse a URL string into a map of interesting parts.
</pre></div><div class="public" id="var-patch"><h3>patch</h3><div class="usage"><code>(patch url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-post"><h3>post</h3><div class="usage"><code>(post url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-put"><h3>put</h3><div class="usage"><code>(put url &amp; [req])</code></div><pre class="doc">Like #'request, but sets the :method and :url as appropriate.
</pre></div><div class="public" id="var-request"><h3>request</h3><div class="usage"></div><pre class="doc">Executes the HTTP request corresponding to the given map and returns
 the response map for corresponding to the resulting HTTP response.

 In addition to the standard Ring request keys, the following keys are also
 recognized:
 * :url
 * :method
 * :query-params
 * :basic-auth
 * :content-type
 * :accept
 * :accept-encoding
 * :as

The following additional behaviors over also automatically enabled:
 * Exceptions are thrown for status codes other than 200-207, 300-303, or 307
 * Gzip and deflate responses are accepted and decompressed
 * Input and output bodies are coerced as required and indicated by the :as
   option.</pre></div><div class="public" id="var-with-connection-pool"><h3>with-connection-pool</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-connection-pool opts &amp; body)</code></div><pre class="doc">Macro to execute the body using a connection manager. Creates a
PoolingClientConnectionManager to use for all requests within the body of
the expression. An option map is allowed to set options for the connection
manager.

The following options are supported:

:timeout - Time that connections are left open before automatically closing
  default: 5
:threads - Maximum number of threads that will be used for connecting
  default: 4
:default-per-route - Maximum number of simultaneous connections per host
  default: 2
:insecure? - Boolean flag to specify allowing insecure HTTPS connections
  default: false

:keystore - keystore file to be used for connection manager
:keystore-pass - keystore password
:trust-store - trust store file to be used for connection manager
:trust-store-pass - trust store password

Note that :insecure? and :keystore/:trust-store options are mutually exclusive

If the value 'nil' is specified or the value is not set, the default value
will be used.</pre></div><div class="public" id="var-with-middleware"><h3>with-middleware</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-middleware middleware &amp; body)</code></div><pre class="doc">Perform the body of the macro with a custom middleware list.

It is highly recommended to at least include:
clj-http.client/wrap-url
clj-http.client/wrap-method

Unless you really know what you are doing.</pre></div><div class="public" id="var-wrap-accept"><h3>wrap-accept</h3><div class="usage"><code>(wrap-accept client)</code></div><pre class="doc">Middleware converting the :accept key in a request to application/&lt;type&gt;
</pre></div><div class="public" id="var-wrap-accept-encoding"><h3>wrap-accept-encoding</h3><div class="usage"><code>(wrap-accept-encoding client)</code></div><pre class="doc">Middleware converting the :accept-encoding option to an acceptable
Accept-Encoding header in the request.</pre></div><div class="public" id="var-wrap-additional-header-parsing"><h3>wrap-additional-header-parsing</h3><div class="usage"><code>(wrap-additional-header-parsing client)</code></div><pre class="doc">Middleware that parses additional http headers from the body of a
web page, adding them into the headers map of the response if any
are found. Only looks at the body if the :decode-body-headers option
is set to a truthy value. Will be silently disabled if crouton is excluded
from clj-http's dependencies.</pre></div><div class="public" id="var-wrap-basic-auth"><h3>wrap-basic-auth</h3><div class="usage"><code>(wrap-basic-auth client)</code></div><pre class="doc">Middleware converting the :basic-auth option into an Authorization header.
</pre></div><div class="public" id="var-wrap-content-type"><h3>wrap-content-type</h3><div class="usage"><code>(wrap-content-type client)</code></div><pre class="doc">Middleware converting a `:content-type &lt;keyword&gt;` option to the formal
application/&lt;name&gt; format and adding it as a header.</pre></div><div class="public" id="var-wrap-decompression"><h3>wrap-decompression</h3><div class="usage"><code>(wrap-decompression client)</code></div><pre class="doc">Middleware handling automatic decompression of responses from web servers. If
:decompress-body is set to false, does not automatically set `Accept-Encoding`
header or decompress body.</pre></div><div class="public" id="var-wrap-exceptions"><h3>wrap-exceptions</h3><div class="usage"><code>(wrap-exceptions client)</code></div><pre class="doc">Middleware that throws a slingshot exception if the response is not a
regular response. If :throw-entire-message? is set to true, the entire
response is used as the message, instead of just the status number.</pre></div><div class="public" id="var-wrap-form-params"><h3>wrap-form-params</h3><div class="usage"><code>(wrap-form-params client)</code></div><pre class="doc">Middleware wrapping the submission or form parameters.
</pre></div><div class="public" id="var-wrap-input-coercion"><h3>wrap-input-coercion</h3><div class="usage"><code>(wrap-input-coercion client)</code></div><pre class="doc">Middleware coercing the :body of a request from a number of formats into an
Apache Entity. Currently supports Strings, Files, InputStreams
and byte-arrays.</pre></div><div class="public" id="var-wrap-lower-case-headers"><h3>wrap-lower-case-headers</h3><div class="usage"><code>(wrap-lower-case-headers client)</code></div><pre class="doc">Middleware lowercasing all headers, as per RFC (case-insensitive) and
Ring spec.</pre></div><div class="public" id="var-wrap-method"><h3>wrap-method</h3><div class="usage"><code>(wrap-method client)</code></div><pre class="doc">Middleware converting the :method option into the :request-method option
</pre></div><div class="public" id="var-wrap-nested-params"><h3>wrap-nested-params</h3><div class="usage"><code>(wrap-nested-params client)</code></div><pre class="doc">Middleware wrapping nested parameters for query strings.
</pre></div><div class="public" id="var-wrap-oauth"><h3>wrap-oauth</h3><div class="usage"><code>(wrap-oauth client)</code></div><pre class="doc">Middleware converting the :oauth-token option into an Authorization header.
</pre></div><div class="public" id="var-wrap-output-coercion"><h3>wrap-output-coercion</h3><div class="usage"><code>(wrap-output-coercion client)</code></div><pre class="doc">Middleware converting a response body from a byte-array to a different
object. Defaults to a String if no :as key is specified, the
`coerce-response-body` multimethod may be extended to add
additional coercions.</pre></div><div class="public" id="var-wrap-query-params"><h3>wrap-query-params</h3><div class="usage"><code>(wrap-query-params client)</code></div><pre class="doc">Middleware converting the :query-params option to a querystring on
the request.</pre></div><div class="public" id="var-wrap-redirects"><h3>wrap-redirects</h3><div class="usage"><code>(wrap-redirects client)</code></div><pre class="doc">Middleware that follows redirects in the response. A slingshot exception is
thrown if too many redirects occur. Options

:follow-redirects - default:true, whether to follow redirects
:max-redirects - default:20, maximum number of redirects to follow
:force-redirects - default:false, force redirecting methods to GET requests

In the response:

:redirects-count - number of redirects
:trace-redirects - vector of sites the request was redirected from</pre></div><div class="public" id="var-wrap-request"><h3>wrap-request</h3><div class="usage"><code>(wrap-request request)</code></div><pre class="doc">Returns a battaries-included HTTP request function coresponding to the given
core client. See client/client.</pre></div><div class="public" id="var-wrap-request-timing"><h3>wrap-request-timing</h3><div class="usage"><code>(wrap-request-timing client)</code></div><pre class="doc">Middleware that times the request, putting the total time (in milliseconds)
of the request into the :request-time key in the response.</pre></div><div class="public" id="var-wrap-unknown-host"><h3>wrap-unknown-host</h3><div class="usage"><code>(wrap-unknown-host client)</code></div><pre class="doc">Middleware ignoring unknown hosts when the :ignore-unknown-host? option
is set.</pre></div><div class="public" id="var-wrap-url"><h3>wrap-url</h3><div class="usage"><code>(wrap-url client)</code></div><pre class="doc">Middleware wrapping request URL parsing.
</pre></div><div class="public" id="var-wrap-user-info"><h3>wrap-user-info</h3><div class="usage"><code>(wrap-user-info client)</code></div><pre class="doc">Middleware converting the :user-info option into a :basic-auth option
</pre></div></div></body></html>